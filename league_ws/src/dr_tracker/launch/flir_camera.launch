<launch>
   <!-- Determine this using rosrun spinnaker_camera_driver list_cameras.
       If not specified, defaults to first camera found. -->
  <arg name="camera_name" default="camera" />
  <arg name="camera_serial" default="19423282" />
  <arg name="path" value="$(find dr_tracker)"/>
  <arg name="calib_file" default="flir_calibration"/>
  <arg name="cam_name" default="narrow_stereo"/>

  <group ns="$(arg camera_name)">
    <node pkg="nodelet" type="nodelet" name="camera_nodelet_manager" args="manager" cwd="node" output="screen"/>

    <node pkg="nodelet" type="nodelet" name="spinnaker_camera_nodelet"
          args="load spinnaker_camera_driver/SpinnakerCameraNodelet camera_nodelet_manager" >

      <param name="frame_id" value="camera" />
      <param name="serial" value="$(arg camera_serial)" />
      <param name="camera_info_url" value="file://$(arg path)/camera_calibration/$(arg calib_file).yaml"/>
    </node>

    <node pkg="image_proc" type="image_proc" name="image_proc" ns="usb_cam" output="screen"/>
    <node name="image_view" pkg="image_view" type="image_view" respawn="false">
      <remap from="image" to="/usb_cam/image_rect_color"/>
      <param name="autosize" value="true" />
    </node>

  </group>
</launch>